// Code generated by {{.PluginName}}. DO NOT EDIT.
package {{.ModuleName}}

{{if .HasImportFor templateName}}
import (
{{- range .GetTemplateImports templateName}}
    {{.Alias}} "{{.Name}}"
{{- end}}
)
{{end}}

{{range .DomainMessages}}{{$receiver := .GetReceiverName}}
type {{.DomainName}} struct {
    {{- range .GetFields templateName}}
    {{.DomainName}} {{.DomainType}} {{.DomainTag}}
    {{- end}}
}

func ({{$receiver}} *{{.DomainName}}) IntoWire() *{{.WireName}} {
    if {{$receiver}} == nil {
        return nil
    }
    {{if or .HasArrayField .HasMapField}}
    wire := &{{.WireName}}{
    {{- range .BindableFields templateName}}
        {{.GoName}}: {{.ConvertDomainTypeToWireType}},
    {{- end}}
    }

    {{range .ArrayFields}}{{$name := toLowerCamelCase .GoName}}
    var {{$name}} {{.WireType}}
    for _, {{$loopReceiver := firstLower .GoName}}{{$loopReceiver}} := range {{$receiver}}.{{.GoName}} {
        {{$name}} = append({{$name}}, {{.ConvertDomainTypeToArrayWireType $loopReceiver}})
    }
    wire.{{.GoName}} = {{$name}}
    {{end -}}
    {{range .MapFields}}{{$name := toLowerCamelCase .GoName}}
    {{$name}} := make({{.WireType}})
    for k, v := range {{$receiver}}.{{.GoName}} {
        {{$name}}[k] = {{.ConvertDomainTypeToMapWireType "v"}}
    }
    wire.{{.GoName}} = {{$name}}
    {{end}}

    return wire
    {{- else}}
    return &{{.WireName}}{
    {{- range .GetFields templateName}}
        {{.GoName}}: {{.ConvertDomainTypeToWireType}},
    {{- end}}
    }
    {{- end}}
}
{{end}}