// Code generated by {{.PluginName}}. DO NOT EDIT.
package {{.ModuleName}}

{{if .HasImportFor templateName}}
import (
{{- range .GetTemplateImports templateName}}
    {{.Alias}} "{{.Name}}"
{{- end}}
)
{{end}}

{{- if .HasValidatableMessage}}
type ValidateOptions struct {
    CustomRuleOptions interface{}
}
{{- end}}

{{$httpService := .IsHTTPService}}
{{range .ValidatableMessages}}{{$receiver := .GetReceiverName}}{{$wireName := .WireName}}
func ({{$receiver}} *{{$wireName}}) Validate(options ...*ValidateOptions) error {
{{- if .ValidationNeedsCustomRuleOptions}}
    if len(options) == 0 {
        return errors.New("Validate API called without required options argument")
    }

    var (
        opt = options[0]
    )
{{end}}
{{- if $httpService}}
    return validation.Errors{
    {{- range .Fields}}
        "{{.OutboundJsonTagFieldName}}@{{.Location}}": validation.Validate({{.ValidationName $receiver}}, {{.ValidationCall}}),
    {{- end}}
    }.Filter()
{{- else}}
    return validation.ValidateStruct({{$receiver}},
    {{- range .Fields}}
        validation.Field({{.ValidationName $receiver}}, {{.ValidationCall}}),
    {{- end}}
    )
{{- end}}
}
{{end}}