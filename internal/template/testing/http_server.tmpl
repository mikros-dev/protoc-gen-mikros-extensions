// Code generated by {{.PluginName}}. DO NOT EDIT.
package {{.ModuleName}}{{$packageName := .ModuleName}}

{{if .HasImportFor templateName}}
import (
{{- range .GetTemplateImports templateName}}
    {{.Alias}} "{{.Name}}"
{{- end}}
)
{{end}}

// NewHttpServer is a helper function for creating the HTTP server for
// unit tests.
func NewHttpServer(serviceName string, logger interface{}, handlers interface{}, response {{$packageName}}.ResponseForwarder, decoder {{$packageName}}.FieldDecoder) (*{{$packageName}}.HttpServer, error) {
    s := {{$packageName}}.NewHttpServer({{$packageName}}.NewHttpServerOptions{
        Response: response,
        Field: decoder,
    })

    err := s.SetupServer(serviceName, logger, router.New(), handlers, nil)
    return s, err
}